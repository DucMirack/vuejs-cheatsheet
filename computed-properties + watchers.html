<!DOCTYPE html>
<html>
<head>
	<title>VueJS</title>
	<script src ="https://unpkg.com/vue/dist/vue.js"></script>
</head>
<body>

	<div id="app">

		<h4><i> Les proprietes calculees sont des fonctions qui ne sont appelees que quand on fait appel a des donnees dont elles ont besoin au contraire des fonctions classiques qui sont appelees a chaque changement de n'importe quelle propriete </i></h4>
		<br/>
		<h4><i> Elles servent seulement a renvoyer des valeurs qui utilisent les data, pour manipuler des data ou event il faut utiliser les fonctions</i></h4>
	  <button v-on:click='counter++'>Increase</button>
	  <button v-on:click='counter--'>Decrease</button>
	  <button v-on:click='secondCounter++'>Increase Second</button> <!-- Appelle uniquement la methode result() car la propriete calculee output ne sert pas de secondCounter -->
	  <p>Counter: {{ counter }} | {{ secondCounter }}</p>
	  <p>Result: {{ result() }} | {{ output }}</p>

		<h4><i> Les watchers permettent d'ecouter sur une propriete lorsqu'elle est modifié </i></h4>
		<p> Counter a ete change {{ watchCounter }} fois</p>

	</div>

<script>
	new Vue({
		el: '#app',
	  data: {
	  	counter: 0,
	  	secondCounter: 0,
	  	watchCounter: 0,
	  },
	  computed: {
	  	output: function(){	
	  		console.log('Output')
	      return this.counter > 5 ? 'Greater than 5' : 'Smaller than 5'
	  	}
	  },
	  methods: {
	  	result: function(){	
	  		console.log('Methods')
	      return this.counter > 5 ? 'Greater than 5' : 'Smaller than 5'
	    }
	  },
	  watch: { //watch permet d'executer du code asynchrone quand une propriété change
	  	counter: function(value) {
	  		this.watchCounter++;
	  		// var vm = this; //On a besoin de stocker le contexte car on ne l'aura pas dans le callbacl suivant
	  		// setTimeout(function(){
	  		// 	vm.counter = 0;
	  		// }, 2000);
	  	}
	  }
});
</script>
</body>
</html>